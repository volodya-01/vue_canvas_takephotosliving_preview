webpackJsonp([1],{"5W8E":function(t,e){},GllJ:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=i("VU/8")({name:"App"},n,!1,function(t){i("ONi/")},null,null).exports,s=i("/ocq"),r=i("//Fk"),c=i.n(r),d={name:"takephoto",data:function(){return{videoWidth:2e3,videoHeight:930,imgSrc:"",thisCancas:null,thisContext:null,thisVideo:null}},methods:{getCompetence:function(){var t=this;this.thisCancas=document.getElementById("canvasCamera"),this.thisContext=this.thisCancas.getContext("2d"),this.thisVideo=document.getElementById("videoCamera"),void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;return e?new c.a(function(i,a){e.call(navigator,t,i,a)}):c.a.reject(new Error("getUserMedia is not implemented in this browser"))});var e={audio:!1,video:{width:this.videoWidth,height:this.videoHeight,transform:"scaleX(-1)"}};navigator.mediaDevices.getUserMedia(e).then(function(e){"srcObject"in t.thisVideo?t.thisVideo.srcObject=e:t.thisVideo.src=window.URL.createObjectURL(e),t.thisVideo.onloadedmetadata=function(e){t.thisVideo.play()}}).catch(function(t){console.log(t)})},setImage:function(){this.thisContext.drawImage(this.thisVideo,0,0,this.videoWidth,this.videoHeight);var t=this.thisCancas.toDataURL("image/png");this.imgSrc=t,this.$emit("refreshDataList",this.imgSrc)},dataURLtoFile:function(t,e){for(var i=t.split(","),a=i[0].match(/:(.*?);/)[1],n=atob(i[1]),o=n.length,s=new Uint8Array(o);o--;)s[o]=n.charCodeAt(o);return new File([s],e,{type:a})},stopNavigator:function(){this.thisVideo.srcObject.getTracks()[0].stop(),this.thisVideo=null}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"takephotos_outbox"},[i("div",{staticClass:"camera_outer"},[i("video",{attrs:{id:"videoCamera",width:t.videoWidth,height:t.videoHeight,autoplay:""}}),t._v(" "),i("canvas",{staticStyle:{display:"none"},attrs:{id:"canvasCamera",width:t.videoWidth,height:t.videoHeight}}),t._v(" "),t.imgSrc?i("div",{staticClass:"img_bg_camera"},[i("img",{staticClass:"tx_img",attrs:{src:t.imgSrc,alt:""}})]):t._e()]),t._v(" "),i("div",{staticClass:"button_outbox"},[i("button",{on:{click:function(e){return t.getCompetence()}}},[t._v("打开摄像头")]),t._v(" "),i("button",{on:{click:function(e){return t.stopNavigator()}}},[t._v("关闭摄像头")]),t._v(" "),i("button",{on:{click:function(e){return t.setImage()}}},[t._v("拍照")])])])},staticRenderFns:[]};var v={name:"HelloWorld",components:{takephoto:i("VU/8")(d,h,!1,function(t){i("5W8E")},"data-v-25581006",null).exports},data:function(){return{}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("takephoto")],1)},staticRenderFns:[]};var u=i("VU/8")(v,l,!1,function(t){i("GllJ")},"data-v-6f2c14e2",null).exports;a.a.use(s.a);var m=new s.a({routes:[{path:"/",name:"HelloWorld",component:u}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:m,components:{App:o},template:"<App/>"})},"ONi/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.de05aa57454966809cb6.js.map